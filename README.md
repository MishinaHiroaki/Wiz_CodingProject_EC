2024/12/26
▪️ログインしてないユーザーは ①"/users"、②"/edit"にアクセスできないようにする
①
-> "/users" セッションオブジェクトに"userid"の値があれば、/users直打ちでログインできる
dashbord画面へ遷移できれば、セッションオブジェクトに"userid"が格納される
ログイン画面で/users直打ちすると、"userid"がnullなので、アクセスできない

②(dashbord画面のパスワード編集ボタンを押下すると/editが呼ばれる)
->(1)ログイン画面からdashbord画面へ遷移するタイミングで、トークンを生成し,dashbord.htmlにトークンを渡す
(2)dashbord.htmlのパスワード編集ボタンを押下すると、/editへトークンが渡される
(3) ./editのメソッドで(1)(2)のトークンの値が等しい時、/editへ遷移できる

なので、トークンがnull(dashbord画面へ遷移していないユーザ)の時、/edit直打ちしても、アクセスできない

▪️ログインしてるユーザーは "/"　トップページ(ログイン画面)にアクセスできないようにする
->セッションオブジェクトに"userid"の値があれば、"/"直打ちで、dashbord画面へ遷移する

▪️ログイン成功後、ユーザー登録成功後は"/dashbord"にリダイレクトする
->ログイン画面でログインボタン押下すると、"redirect:/dashbord"; でdashbord.htmlへ遷移する

▪️ログアウトしたらセッションを破棄して、 "/"にリダイレクトする
dashbord.htmlのログアウトボタンを押下すると、UserController.javaのlogoutメソッドが呼ばれて、セッションを破棄して、
ログイン画面へリダイレクトする
